<!DOCTYPE html>
<html lang="en">
<head>
        <title>Donut Picker Chart</title>
        <meta charset="utf-8" />

        <!--
        my CSS styles
        -->
        <link href="/dang-sunburst/theme/css/bootstrap.css"      rel="stylesheet" type="text/css">
        <link href="/dang-sunburst/theme/css/main.css"           rel="stylesheet" type="text/css">

        <link href="/dang-sunburst/theme/css/cosmo.css"          rel="stylesheet" type="text/css">
        <link href="/dang-sunburst/theme/css/font-awesome.css"   rel="stylesheet" type="text/css"/>
        <link href="/dang-sunburst/theme/css/pygment.css"        rel="stylesheet" type="text/css"/>

        <!--
        include Angular first
        -->
        <script type="text/javascript" src="/dang-sunburst/theme/js/angular-1.3.15.js"></script>
</head>

<body id="index" class="home">
    <div class="container">
        <h1><a href="/dang-sunburst/">dang-sunburst <strong></strong></a></h1>
        <hr />


<link href="/dang-sunburst/simpledonut/donutpicker.css" rel="stylesheet" stype="text/css" />

<div ng-app="pickerApp">

    <div ng-controller="mainController" ng-init="initialize()">


        <div class="row">
            <div class="col-sm-12" id="donut_title">
                <donut-picker-head></donut-picker-head>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-10" id="donut_controls">
                <donut-picker-controls></donut-picker-controls>
            </div>
        </div>


        <div class="row">
            <div class="col-sm-4" id="donut_chart">
                <div class="row" id="donutpicker_chart">
                    <donut-picker-chart></donut-picker-chart> 
                </div>
            </div>

            <div class="col-sm-6" id="donut_text">
                <div class="row" id="donut_panels">
                    <donut-picker-panels></donut-picker-panels>
                </div>
            </div>

        </div>
        <div class="row">

            <div class="col-sm-10" id="more_donut_text">
                <div class="row" id="donutpicker_md">
This is a donut chart with buttons enabling you to pick different
categories of data. This chart is intended to demonstrate how to fold up 
high dimensional data into a JSON container that ca be served up and 
easily filtered with D3.

<br />
<br />

This data shows statistics about death records from the United States in 
2014, in particular the ratio of males to females whose death records 
were tagged with these particular ICD 10 codes. The ICD 10 codes indicate
circumstances present at time of death, though not necessarily 
the cause of death. 

<br/>
<br/>

The key is to add one additional layer of hierarchy to the dictionary containing the data:
data for any pie chart consists of a list of dictionaries, as with the static pie chart,
but this time we add one additional layer to the JSON, which is the code.

The user is then able to select different codes using buttons. Clicking those buttons
sets the filter criteria in the visualization controller, and that change is detected
and propagated, so that the pie chart data is updated and the pie chart re-drawn. 

<pre style="font-size: 8px;">
[
    {
        "code": "T510"},
        "donut": 
            [
                {"value": 17, "label": "M"}, 
                {"value": 4, "label": "F"}
            ]
    },
    {
        "code": "Y14"},
        "donut": 
            [
                {"value": 1, "label": "M"}, 
                {"value": 3, "label": "F"}
            ]
    },
    {
        "code": "S328"},
        "donut": 
            [
                {"value": 2, "label": "M"}, 
                {"value": 3, "label": "F"}
            ]
    },
    
    ...
]
</pre>

Once we filter on "code", we get the "donut" array, and pass it to the D3 pie chart object,
which renders the d ata structure into the donut chart on the left.  
                </div>

            </div>
        </div>

    </div>

</div>

<script type="text/javascript" src="/dang-sunburst/simpledonut/donutpicker_modcontrol.js"></script>
<script type="text/javascript" src="/dang-sunburst/simpledonut/donutpicker_chart.js"></script>

    </div>

    <footer id="contentinfo" class="body">
    <hr />
    <p style="text-align: center">
        <span class="fa-stack fa-lg">
            <i class="fa fa-square fa-stack-2x"></i>
            <i class="fa fa-terminal fa-stack-1x fa-inverse"></i>
        </span>
        Made from the command line with vim by 
        <a href="http://charlesreid1.com">charlesreid1</a>.
    </p>

    <p style="text-align: center;">Made with HTML (
    <a href="http://http://bootstrap.org/">Bootstrap</a>,
    <a href="http://bootswatch.com">Bootswatch</a>), 
    Javascript (
    <a href="http://http://d3js.org/">D3.js</a>, 
    <a href=https://angularjs.org/">Angular.js</a>,
    <a href="https://jquery.com/">jQuery</a>), 
    and Python (
    <a href="http://getpelican.com">Pelican</a>,
    <a href="http://http://stanford.edu/~mwaskom/software/seaborn/">Seaborn</a>,
    <a href="http://matplotlib.org">Matplotlib</a>,
    <a href="http://numpy.org">Numpy</a>).
    </p>

        <script type="text/javascript" src="/dang-sunburst/theme/js/jquery-1.11.2.js"></script>
        <script type="text/javascript" src="/dang-sunburst/theme/js/bootstrap-3.3.4.js"></script>
        <script type="text/javascript" src="/dang-sunburst/theme/js/d3-3.5.5.js"></script>
        <!--
        <script type="text/javascript" src="/dang-sunburst/theme/js/leaflet-0.7.3.js"></script>
        <script type="text/javascript" src="/dang-sunburst/theme/js/leaflet.ajax.min.js"></script>
        -->
    </footer><!-- /#contentinfo -->

</body>
</html>